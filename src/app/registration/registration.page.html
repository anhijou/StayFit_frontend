<ion-content scroll-y="false" [fullscreen]="true">
  <ion-text id="title">
    <h5 class="center">CREATE NEW ACCOUNT</h5>
  </ion-text>


  <ion-form [formGroup]="UserRegisterForm" id="container">
    <ion-item id="item">
      <ion-icon name="person-circle" slot="start"></ion-icon>
      <ion-label position="stacked" class="ion-label-size">Name</ion-label>
      <ion-input 
        formControlName="Name" 
        (ionFocus)="showErrorName = false"
        required
      ></ion-input>
    
        <ion-label class="errur-lable"
          style="color: #c94c4c; padding-top: 0.2rem"
          *ngIf="showErrorName 
          && (UserRegisterForm.get('Name')?.invalid 
          && UserRegisterForm.get('Name')?.touched 
          && (UserRegisterForm.get('Name')?.value!=''))"
        >
          Invalid Name 
    </ion-label>
        
        <ion-label class="errur-lable"
          style="color: #c94c4c; padding-top: 0.2rem"
          *ngIf="showErrorName 
          && (UserRegisterForm.get('Name')?.value==='')"
        >
          Name is required
        </ion-label>
       
    </ion-item>
    <div class="toast-center" *ngIf="showErrorName 
    && (UserRegisterForm.get('Name')?.invalid 
    && UserRegisterForm.get('Name')?.touched 
    && (UserRegisterForm.get('Name')?.value!=''))" >
      name must be 3+ characters
    </div>
   
    





    <ion-item id="item">
      <ion-icon name="mail-outline" slot="start"></ion-icon>
      <ion-label position="stacked" class="ion-label-size">Email</ion-label>
      <ion-input 
      formControlName="Email" 
      (ionFocus)="showErrorEmail = false"
      required
      ></ion-input>
      <ion-label class="errur-lable"
        style="color: #c94c4c; padding-top: 0.2rem"
        *ngIf="showErrorEmail
        &&(UserRegisterForm.get('Email')?.invalid 
        && UserRegisterForm.get('Email')?.touched
        && UserRegisterForm.get('Email')?.value!='')"
      >
      Invalid email address
      </ion-label>
      <ion-label class="errur-lable"
        style="color: #c94c4c; padding-top: 0.2rem;float: right"
        *ngIf="showErrorEmail
        &&(UserRegisterForm.get('Email')?.value==='')"
      >
        Email is required
      </ion-label>
    </ion-item>

    <ion-item id="item">
      <ion-icon name="flag-outline" slot="start"></ion-icon>
      <ion-label position="stacked" class="ion-label-size"
        >Country Code</ion-label
      >
      <ion-select formControlName="CountryCode" >
        <ion-select-option
          value="{{ dialCode.dial_code }}"
          *ngFor="let dialCode of dialCodes"
          >{{ dialCode.name }} ({{ dialCode.dial_code }})</ion-select-option
        >
      </ion-select>
      <ion-label class="errur-lable"
      style="color: #c94c4c; padding-top: 0.2rem"
      *ngIf="showErrorCountryCode 
      && UserRegisterForm.get('CountryCode')?.invalid 
      && UserRegisterForm.get('CountryCode')?.value===''"
    >
       select a Country Code
    </ion-label>
    </ion-item>

    <ion-item id="item">
      <ion-icon name="call" slot="start"></ion-icon>
      <ion-label position="stacked" class="ion-label-size">Phone</ion-label>
      <ion-input 
      formControlName="Phone" 
      (ionFocus)="showErrorPhone = false"
      required
      ></ion-input>

      <ion-label class="errur-lable"
        style="color: #c94c4c; padding-top: 0.2rem"
        *ngIf="showErrorPhone 
        && (UserRegisterForm.get('Phone')?.invalid 
        && UserRegisterForm.get('Phone')?.touched
        && UserRegisterForm.get('Phone')?.value!='')"
      >
      Invalid Phone
      </ion-label>
      
      <ion-label class="errur-lable"
        style="color: #c94c4c; padding-top: 0.2rem"
        *ngIf="showErrorPhone && (UserRegisterForm.get('Phone')?.value==='')"
      >
        Phone is required
      </ion-label>
    </ion-item>

    <ion-item id="item">
      <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
      <ion-label position="stacked" class="ion-label-size">Password</ion-label>
      <ion-input
        position="floating"
        formControlName="Password"
        type="password"
        (ionFocus)="showErrorPassword = false"

        required
      ></ion-input>
      <ion-label class="errur-lable"
      style="color: #c94c4c; padding-top: 0.2rem"
      *ngIf="(showErrorPassword 
      && (UserRegisterForm.get('Password')?.invalid 
      && UserRegisterForm.get('Password')?.touched)
      &&  UserRegisterForm.get('Password')?.value.length>8
      && UserRegisterForm.get('Password')?.value !== '')
      ||(showErrorPassword 
      && (UserRegisterForm.get('Password')?.invalid 
      && UserRegisterForm.get('Password')?.touched)
      && UserRegisterForm.get('Password')?.value.length<8
      && UserRegisterForm.get('Password')?.value !== '')"

    >
    Invalid Password
    </ion-label>
    
  
    <ion-label class="errur-lable"
      style="color: #c94c4c; padding-top: 0.2rem"
      *ngIf="showErrorPassword 
      && (UserRegisterForm.get('Password')?.value==='')"
    >
    Password is required
    </ion-label>
  
    </ion-item>
    <div class="toast-center" 
    *ngIf="showErrorPassword 
    && UserRegisterForm.get('Password')?.invalid 
    && UserRegisterForm.get('Password')?.touched 
    && UserRegisterForm.get('Password')?.value !== ''
    && UserRegisterForm.get('Password')?.value.length<8" >
    Password must be 8+ characters
    </div>
    <div class="toast-center" 
    *ngIf="showErrorPassword 
    && (UserRegisterForm.get('Password')?.invalid 
    && UserRegisterForm.get('Password')?.touched)
    && UserRegisterForm.get('Password')?.value.length>8" >
    Weak password try stronger one
    </div>

    <br />

    <ion-row>
      <ion-col id="container">
        <ion-button expand="block" 
        class="custom-button" 
        (click)="changeOrNotPage()"
        
          >Register</ion-button
        >

        <br />

        <ion-button
          expand="block"
          [href]="authUrl"
          class="login-with-google-btn"
        >
          <img
            width="20px"
            style="margin-top: 2px; margin-right: 8px"
            alt="Google sign-in"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"
          />
          Sign Up With Google
        </ion-button>

        <ion-label class="signup-label"
          >already registered
          <a routerLink="../login">Sign In here</a></ion-label
        >
      </ion-col>
    </ion-row>

  </ion-form>


  <ion-footer class="custom-footer">
    <ion-img class="img2" src="assets/img/joj.png" alt="night"></ion-img>
  </ion-footer>
</ion-content>

